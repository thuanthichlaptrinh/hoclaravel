# Middleware trong Laravel

Middleware là các lớp trung gian xử lý HTTP request trước khi đến controller và response trước khi trả về trình duyệt.  
Nó hoạt động như một "bộ lọc" cho các yêu cầu gửi đến ứng dụng.

## Công dụng của Middleware

Middleware thường được sử dụng để:

-   Kiểm tra người dùng đã đăng nhập chưa (authentication)
-   Kiểm tra phân quyền (authorization)
-   Ghi log hoạt động
-   Bảo vệ chống spam hoặc tấn công
-   Thêm hoặc sửa header cho response
-   Thay đổi hoặc kiểm tra dữ liệu request

## Tạo Middleware

Ví dụ: Sử dụng lệnh Artisan để tạo một middleware mới

```bash
php artisan make:middleware CheckOld
```

## Một số middleware

-   Middleware toàn cục: cho tất cả các route

```php
$middleware->append(App\Http\Middleware\CheckOld::class);
```

-   Middleware cho mỗi route check-age

```php
$middleware->alias([
    'check.age' => App\Http\Middleware\CheckOld::class
]);
```
